<script  type="text/javascript">
var ids=new Array();
var currentid=1;
function show(id){
if(ids.indexOf(id)>=0){
  console.log(id+"is in");
  return;
}
else{
  ids.push(id);
  var newid=++currentid;
  var newselect=$("<select id=\"haveornot\" name=\"haveornot\" ><option value=yes selected=true> Have<option value=no> Not</select><select id=\""+newid+"\" name=\"filter-tags\" style=\"width:130px\" onchange=\"show(this.id)\"><option value=''>Choose a tag</option> {{#dropdowns}}<option value=\"{{tag}}\">{{val}}{{/dropdowns}}</select><br>");
newselect.insertBefore("#filter");
  if(newid==2){
    $("<br>").insertAfter("#1");
  }
}

}
</script>
<div id="file-picker-filters">
<button id="new-resident">New Resident</button>
<button id="todo-list">Task List</button>
<HR>
  <input type="text" placeholder="search" id="query-input" size=25>
  <button id="filter-button">Search</button>

<br>
  <select id="haveornot" name="haveornot"  style="width:77px">
    <option value="yes" selected=true> Have
    <option value="no"> Not
  </select>
<select id="1" name="filter-tags" style="width:130px" onchange="show(this.id)">
<option value=''>Choose a tag</option>
  {{#dropdowns}}
        <option value="{{tag}}" > {{val}}
  {{/dropdowns}}
</select>
<button id="filter">Filter</button><br>

<select id="order">
  <option value=time>Recent</option>
  <option value=quantity>Quantity</option>
</select>
  <select id="order-tags" name="order-tags" style="width:130px">
  <option>Choose a tag</option>
  {{#dropdowns}}
        <option value="{{tag}}" > {{val}}
  {{/dropdowns}}
</select>
  <button id="filter-order">Order by</button>
<HR>
<select id="tag-list" style="width:198px">
  <option></option>
   {{#tags}}
     <option class="tag-adding" value="{{.}}">{{.}}</option>
  {{/tags}}
</select>
<button id="add-tag">Add tag</button>  
<HR>

<input type="checkbox" id="check-all">Check all shown</input>
&nbsp;&nbsp;&nbsp; Amount: <label id="amount"></label>
</div>

<ul id="file-picker-list" style= "list-style:none; ">
<li>Loading...</li>
</ul>
